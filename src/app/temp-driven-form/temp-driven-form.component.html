<app-header></app-header>
<hr />

<div class='container'>
  <div class="row">
    <div class="col-lg-6">
      <form #userForm='ngForm' (ngSubmit)='submitData(userForm.value)'>

        <div class='form-group'>
          <h1>Sign Up</h1>
          <hr />
          <label><b>Name: </b> </label>
          <input type='text' class='form-control' name='name' #nameRef='ngModel'
                 ngModel required minlength='5' maxlength='12' pattern='[a-z]+'>

          <div *ngIf='nameRef.errors && (nameRef.dirty || nameRef.touched)' class='alert alert-danger'>

            <div [hidden]='!nameRef.errors.required'>Please Enter Name</div>
            <div [hidden]='!nameRef.errors.minlength'>Please Enter atleast 5 characters</div>
            <div [hidden]='!nameRef.errors.pattern'>Characters are only allowed..</div>
          </div>

          <label><b>Email Id: </b> </label>
          <input type="email" class="form-control" name="email" #emailRef='ngModel' ngModel
                 required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" />

          <div *ngIf='emailRef.errors && (emailRef.dirty || emailRef.touched)' class='alert alert-danger'>

            <div [hidden]='!emailRef.errors.required'>Please Enter Email</div>
            <div [hidden]='!emailRef.errors.pattern'>Please Enter Valid email</div>
          </div>

          <div class="form-group" [class.has-error]="genderRef.touched && genderRef.invalid">
            <label class="control-label">Gender</label>
            <div class="form-control">
              <label class="radio-inline">
                <input type="radio" name="gender" value="Male" #genderRef="ngModel" [(ngModel)]="userForm.genderRef" required>
                Male
              </label>
              <label class="radio-inline">
                <input type="radio" name="gender" value="Female" #genderRef="ngModel" [(ngModel)]="userForm.genderRef" required>
                Female
              </label>

            </div>
            <div *ngIf="genderRef.invalid && genderRef.touched" class='alert alert-danger'>
              <!--<div [hidden]="!genderRef.hasError('required')">-->
              Gender is Required
              <!--</div>-->
            </div>
          </div>


          <div ngModelGroup="Address">
            <!--<label><b>City :</b></label>
            <input type="text" class="form-control" name="city" #cityRef="ngModel" ngModel
                   required minlength="3" maxlength="15" pattern="[a-z]+" />

            <div *ngIf='cityRef.errors && (cityRef.dirty || cityRef.touched)' class='alert alert-danger'>

              <div [hidden]='!cityRef.errors.required'>Please Enter City</div>
              <div [hidden]='!cityRef.errors.pattern'>Please Enter Valid City</div>
              <div [hidden]='!cityRef.errors.minlength'>Please Enter atleast 3 characters</div>
            </div>-->

            <div class="form-group">
              <label for="city">City:</label>
              <select id="city" name="city" ngModel class="form-control" #cityRef="ngModel" required>
                <option value="" hidden required>Select City</option>
                <option value="Wardha">Wardha</option>
                <option value="Nagpur">Nagpur</option>
                <option value="Mumbai">Mumbai</option>
                <option value="Pune">Pune</option>
                <option value="Delhi">Delhi</option>
                <option value="Hyderabad">Hyderabad</option>
              </select>
              <div *ngIf='cityRef.errors && (cityRef.dirty || cityRef.touched)' class='alert alert-danger'>

                <div [hidden]='!cityRef.errors.required'>Please Select City</div>
              </div>
            </div>

            <!--<label><b>State :</b></label>
            <input type="text" class="form-control" name="state" #stateRef="ngModel" ngModel
                   required minlength="3" maxlength="15" pattern="[a-z]+" />
            <div *ngIf='stateRef.errors && (stateRef.dirty || stateRef.touched)' class='alert alert-danger'>

              <div [hidden]='!stateRef.errors.required'>Please Enter State</div>
              <div [hidden]='!stateRef.errors.pattern'>Please Enter Valid State</div>
              <div [hidden]='!stateRef.errors.minlength'>Please Enter atleast 3 characters</div>
            </div>-->


            <div class="form-group">
              <label for="state">State:</label>
              <select id="state" name="state" ngModel class="form-control" #stateRef="ngModel" required>
                <option value="" hidden required>Select State</option>
                <option value="Andhra Pradesh">Andhra Pradesh</option>
                <option value="Assam">Assam</option>
                <option value="Bihar">Bihar</option>
                <option value="Goa">Goa</option>
                <option value="Gujarat">Andhra Gujarat</option>
                <option value="Himachal Pradesh">Himachal Pradesh</option>
                <option value="Maharashtra">Maharashtra</option>
                <option value="Punjab">Punjab</option>

              </select>
              <div *ngIf='stateRef.errors && (stateRef.dirty || stateRef.touched)' class='alert alert-danger'>

                <div [hidden]='!stateRef.errors.required'>Please Select State</div>
              </div>
            </div>




            <label><b>Postal Code :</b></label>
            <input type='number' class="form-control" name="postalcode" #postalcodeRef="ngModel" ngModel
                   required minlength="6" maxlength="10" />
            <div *ngIf='postalcodeRef.errors && (postalcodeRef.dirty || postalcodeRef.touched)' class='alert alert-danger'>

              <div [hidden]='!postalcodeRef.errors.required'>Please Enter PostalCode</div>
              <div [hidden]='!postalcodeRef.errors.minlength'>Please Enter atleast 6 characters</div>
            </div>
          </div>


          <label><b>Password: </b> </label>
          <input type='password' class='form-control' name='password' #passwordRef='ngModel'
                 ngModel required pattern="[A-Za-z0-9\#\@]{8,15}">

          <div *ngIf='passwordRef.errors && (passwordRef.dirty || passwordRef.touched)' class='alert alert-danger'>

            <div [hidden]='!passwordRef.errors.required'>Please Enter Password</div>
            <div [hidden]='!passwordRef.errors.pattern'>Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters and a special charachter # or @</div>
          </div>
          <br />
          <div class="form-group form-check">
            <div class="form-control">
              <label class="checkbox-inline">
                <input type="checkbox" class="form-check-input" name="isAccept" #isAcceptRef="ngModel" ngModel required>I Accept Terms & Conditions
              </label>
              <div *ngIf='isAcceptRef.errors && (isAcceptRef.dirty || isAcceptRef.touched)' class='alert alert-danger'>
                <div [hidden]='!isAcceptRef.errors.required' class="invalid-feedback">Accept T&C is Required</div>
              </div>
            </div>
          </div>




        </div>
        <br />
        <button [disabled]='!userForm.form.valid' type='submit' class='btn btn-success'>Register</button>

      </form>
    </div>
    <div class="col-lg-6">
      <br />
      <br />
      <br />
      <br />
      <table align="right">
        <tr *ngIf='myArrayData.length>0'>

          <th>Name</th>
          <th>Email</th>
          <th>Gender</th>
          <th>City</th>
          <th>State</th>
          <th>Postal Code</th>

        </tr>
        <tr *ngFor="let myData of myArrayData">
          <td>{{myData.name}}</td>

          <td>{{myData.email}}</td>

          <td>{{myData.gender}}</td>

          <td>{{myData.Address.city}}</td>

          <td>{{myData.Address.state}}</td>

          <td>{{myData.Address.postalcode}}</td>


        </tr>

      </table>
    </div>
  </div>
</div>
<br />
<br />
<app-footer></app-footer>
